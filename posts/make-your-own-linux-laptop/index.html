<!doctype html><html lang=en-us><head><title>Make your own linux laptop | Aaron's Blog</title>
<meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Make XPS13 Linux laptop 🔗筆電挑選 🔗Dell XPS13 支援 通過 Ubuntu 認證
灌系統 選擇版本 顯示卡驅動 wifi驅動 🔗待補&mldr;
雙系統 dual os 🔗 https://medium.com/@josef.andersson/dual-boot-windows-10-and-ubuntu-18-10-on-dell-xps-9370-1a77ae9716bc https://estl.tech/dual-boot-ubuntu-on-dell-xps-1365df21b947 leagcy vs uefi 🔗磁區分割 🔗itread01.com/content/1549288804.html?fbclid=IwAR17jW3QC2M0FJjNWrbI5p_BFYBmQFN4g7kmvYqyfwR7IUKzFF_5BNEz7DY
Grub 🔗The Dell XPS 13 came with a 4K screen. Unfortunately, the GRUB bootloader does not scale the text so everything was really tiny. It was really hard to see what operating system was selected for boot. This AskUbuntu page has the solution. Similar to the comment by Bernard Wei, the videoinfo command did not work for me."><meta name=generator content="Hugo 0.123.4"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/images/favicon.ico type=image/x-icon><script async src="https://www.googletagmanager.com/gtag/js?id=G-0YBZ467R0Y"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0YBZ467R0Y",{anonymize_ip:!1})}</script></head><body><nav class=navigation><a href=/><span class=arrow>←</span>Home</a>
<a href=/posts>Archive</a>
<a href=/tags>Tags</a>
<a href=/about>About</a></nav><main class=main><section id=single><h1 class=title>Make your own linux laptop</h1><div class=tip><time datetime="2021-06-07 14:01:30 +0800 +0800">Jun 7, 2021</time>
<span class=split>·
</span><span>189 words
</span><span class=split>·
</span><span>1 minute read</span></div><div class=content><h1 id=make-xps13-linux-laptop>Make XPS13 Linux laptop <a href=#make-xps13-linux-laptop class=anchor>🔗</a></h1><h2 id=筆電挑選>筆電挑選 <a href=#%e7%ad%86%e9%9b%bb%e6%8c%91%e9%81%b8 class=anchor>🔗</a></h2><p>Dell XPS13 支援 通過 Ubuntu 認證</p><h2 id=灌系統-選擇版本-顯示卡驅動-wifi驅動>灌系統 選擇版本 顯示卡驅動 wifi驅動 <a href=#%e7%81%8c%e7%b3%bb%e7%b5%b1-%e9%81%b8%e6%93%87%e7%89%88%e6%9c%ac-%e9%a1%af%e7%a4%ba%e5%8d%a1%e9%a9%85%e5%8b%95-wifi%e9%a9%85%e5%8b%95 class=anchor>🔗</a></h2><p>待補&mldr;</p><h2 id=雙系統-dual-os>雙系統 dual os <a href=#%e9%9b%99%e7%b3%bb%e7%b5%b1-dual-os class=anchor>🔗</a></h2><ul><li><a href=https://medium.com/@josef.andersson/dual-boot-windows-10-and-ubuntu-18-10-on-dell-xps-9370-1a77ae9716bc target=_blank rel=noopener>https://medium.com/@josef.andersson/dual-boot-windows-10-and-ubuntu-18-10-on-dell-xps-9370-1a77ae9716bc</a></li><li><a href=https://estl.tech/dual-boot-ubuntu-on-dell-xps-1365df21b947 target=_blank rel=noopener>https://estl.tech/dual-boot-ubuntu-on-dell-xps-1365df21b947</a></li></ul><h2 id=leagcy-vs-uefi>leagcy vs uefi <a href=#leagcy-vs-uefi class=anchor>🔗</a></h2><h2 id=磁區分割>磁區分割 <a href=#%e7%a3%81%e5%8d%80%e5%88%86%e5%89%b2 class=anchor>🔗</a></h2><p>itread01.com/content/1549288804.html?fbclid=IwAR17jW3QC2M0FJjNWrbI5p_BFYBmQFN4g7kmvYqyfwR7IUKzFF_5BNEz7DY</p><h2 id=grub>Grub <a href=#grub class=anchor>🔗</a></h2><p>The Dell XPS 13 came with a 4K screen. Unfortunately, the GRUB bootloader does not scale the text so everything was really tiny. It was really hard to see what operating system was selected for boot.
This AskUbuntu page has the solution. Similar to the comment by Bernard Wei, the videoinfo command did not work for me. 1024x768 and 1280x1024 were both okay but not 1920x1080.</p><pre tabindex=0><code class="language-shell=" data-lang="shell=">sudo vim /etc/default/grub

# Add two line
GRUB_GFXPAYLOAD_LINUX=keep
GRUB_GFXMODE=1024x768

sudo update-grub
</code></pre><p>Ref: <a href=https://estl.tech/dual-boot-ubuntu-on-dell-xps-1365df21b947 target=_blank rel=noopener>https://estl.tech/dual-boot-ubuntu-on-dell-xps-1365df21b947</a></p><h2 id=開機選單>開機選單 <a href=#%e9%96%8b%e6%a9%9f%e9%81%b8%e5%96%ae class=anchor>🔗</a></h2><ul><li>refind</li></ul><h2 id=與mac一樣手勢>與mac一樣手勢 <a href=#%e8%88%87mac%e4%b8%80%e6%a8%a3%e6%89%8b%e5%8b%a2 class=anchor>🔗</a></h2><ul><li><a href=https://medium.com/@dgviranmalaka/how-to-enhance-touch-pad-gestures-like-mac-in-ubuntu-18-04-laptop-f5f25d5a0b4f target=_blank rel=noopener>https://medium.com/@dgviranmalaka/how-to-enhance-touch-pad-gestures-like-mac-in-ubuntu-18-04-laptop-f5f25d5a0b4f</a></li></ul><h2 id=workspace-橫化-gnome-extention>workspace 橫化 gnome extention <a href=#workspace-%e6%a9%ab%e5%8c%96-gnome-extention class=anchor>🔗</a></h2><h2 id=電源管理>電源管理 <a href=#%e9%9b%bb%e6%ba%90%e7%ae%a1%e7%90%86 class=anchor>🔗</a></h2><p>在我灌好設定好筆電之後，也測試了一下睡眠功能發現可以正常喚醒，這下我也可以跟mac一樣不用關機了，於是我合上筆電洗洗睡。</p><p>你以為到這裡就沒了嗎&mldr;.</p><p>隔天工作回家打開我心愛的筆電發現電量剩下22%，靠而且機台還熱熱的。
不行不行 我立刻上網查，發現原來18.04版本的睡眠(suspend)預設只有螢幕關掉&mldr;</p><pre tabindex=0><code class="language-shell=" data-lang="shell=">mem_sleep_default=      [SUSPEND] Default system suspend mode:
                        s2idle  - Suspend-To-Idle
                        shallow - Power-On Suspend or equivalent (if supported)
                        deep    - Suspend-To-RAM or equivalent (if supported)
                        See Documentation/admin-guide/pm/sleep-states.rst.
</code></pre><p>Ref: <a href=https://www.kernel.org/doc/html/latest/admin-guide/kernel-parameters.html target=_blank rel=noopener>https://www.kernel.org/doc/html/latest/admin-guide/kernel-parameters.html</a></p><p>似乎在linux kernel 有這三種模式可以選擇，於是我查到這行指令可以查看當前的模式</p><pre tabindex=0><code class="language-shell=" data-lang="shell=">cat /sys/power/mem_sleep
</code></pre><p>我們可以發現目前是運行在 s2idle, 必須修改設定到deep</p><pre tabindex=0><code class="language-shell=" data-lang="shell=">echo deep &gt; /sys/power/mem_sleep
</code></pre><p>到這裡可以先測試一下睡眠的效果，不過這個設定只要重新開機就會reset，假設你已經讓筆電睡眠了好幾小時，你會發現耗電量大量降低，因為這時候只有ram被供電，接下來我們意設定 grub 來永久化此設定。</p><p>Ref: <a href=https://hant.helplib.com/ubuntu/article_156236 target=_blank rel=noopener>https://hant.helplib.com/ubuntu/article_156236</a></p><ul><li><a href=https://askubuntu.com/questions/1029474/ubuntu-18-04-dell-xps13-9370-no-longer-suspends-on-lid-close target=_blank rel=noopener>https://askubuntu.com/questions/1029474/ubuntu-18-04-dell-xps13-9370-no-longer-suspends-on-lid-close</a></li></ul><h1 id=can-i-get-a-awesome-linux-laptop-番外篇>Can I get a awesome linux laptop ?(番外篇) <a href=#can-i-get-a-awesome-linux-laptop-%e7%95%aa%e5%a4%96%e7%af%87 class=anchor>🔗</a></h1><h2 id=i3-window-management>i3 window management <a href=#i3-window-management class=anchor>🔗</a></h2><h2 id=screen-resolution>screen resolution <a href=#screen-resolution class=anchor>🔗</a></h2><h2 id=i3lock>i3lock <a href=#i3lock class=anchor>🔗</a></h2><h2 id=natural-scroll>natural scroll <a href=#natural-scroll class=anchor>🔗</a></h2><h2 id=power-management>power management <a href=#power-management class=anchor>🔗</a></h2><h2 id=albert>albert <a href=#albert class=anchor>🔗</a></h2></div><div class=tags><a href=https://and2352000.github.io/tags/linux>linux</a>
<a href=https://and2352000.github.io/tags/laptop>laptop</a></div></section></main><footer id=footer><div class=copyright>© Copyright
2024
<span class=split><svg fill="#bbb" width="15" height="15" id="heart-15" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><path d="M13.91 6.75c-1.17 2.25-4.3 5.31-6.07 6.94-.1903.1718-.4797.1718-.67.0C5.39 12.06 2.26 9 1.09 6.75-1.48 1.8 5-1.5 7.5 3.45 10-1.5 16.48 1.8 13.91 6.75z"/></svg></span></div><div class=powerby>Powered by <a href=http://www.gohugo.io/>Hugo</a> Theme By <a href=https://github.com/nodejh/hugo-theme-mini>nodejh</a></div></footer></body></html>