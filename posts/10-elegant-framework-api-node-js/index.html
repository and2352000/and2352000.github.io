<!doctype html><html lang=en-us><head><title>ç”¨ Node.js æ‰“é€  Elegant API Frameworkï¼šawilixã€zodã€zod-openapi çš„å°å…¥èˆ‡æ”¹è®Š | Aaron's Blog</title>
<meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="ç”¨ Node.js æ‰“é€  Elegant API Frameworkï¼šawilixã€zodã€zod-openapi çš„å°å…¥èˆ‡æ”¹è®Š ğŸ”—ä»Šå¤©æˆ‘è¦ä¾†èŠèŠæˆ‘çš„å°ˆæ¡ˆï¼šElegant API Framework for Node.jsã€‚é€™å€‹ API æ¡†æ¶ç›®æ¨™æ˜¯è®“ Node.js API å°ˆæ¡ˆé–‹ç™¼è®Šå¾—æ›´å„ªé›…ï¼Œä½¿ç”¨ awilixã€zod å’Œ zod-openapi é€™ä¸‰å€‹å·¥å…·ï¼Œè®“æˆ‘çš„å°ˆæ¡ˆè®Šå¾—æ›´ä¹¾æ·¨ã€æ›´æ˜“æ–¼ç¶­è­·ã€‚

å°ˆæ¡ˆåˆè¡·ï¼šå„ªé›…èˆ‡çµæ§‹ä¸¦å­˜ ğŸ”—æˆ‘ä¸€é–‹å§‹åšé€™å€‹æ¡†æ¶çš„æ™‚å€™ï¼Œå°±æƒ³è¦è§£æ±º Node.js é–‹ç™¼ä¸­å¸¸è¦‹çš„ç—›é»ï¼šä¾è³´ç®¡ç†äº‚ä¸ƒå…«ç³Ÿã€è³‡æ–™é©—è­‰éº»ç…©ã€API æ–‡ä»¶é›£ç”¢ã€‚æˆ‘ç”¨é Expressã€Koaï¼Œä¹Ÿçœ‹é NestJS çš„åšæ³•ï¼ŒNestJS åŸºæœ¬ä¸Šè·Ÿ Spring Boot å¾ˆåƒï¼ŒNestJS ä½¿ç”¨ TypeScript çš„è£é£¾å™¨ä¾†å®šç¾©æ§åˆ¶å™¨ã€æœå‹™å’Œå…¶ä»–çµ„ä»¶ï¼Œé€™èˆ‡ Spring Boot ä½¿ç”¨è¨»è§£ï¼ˆAnnotationsï¼‰ä¾†é…ç½®æ‡‰ç”¨ç¨‹å¼çš„æ–¹å¼ç›¸ä¼¼ï¼Œä½†æˆ‘å¾ˆä¸å–œæ­¡è¢«æ•´å€‹æ¡†æ¶ç¶ä½ï¼Œæœ‰æ™‚å€™è¦ºå¾—æ¡†æ¶çš„å­˜åœ¨é™åˆ¶çš„ç¨‹å¼çš„æ“´å±•æ€§ï¼Œæ–¼æ˜¯ï¼Œæˆ‘æ±ºå®šè‡ªå·±å‹•æ‰‹ï¼Œæ‰“é€ ä¸€å€‹æ—¢æœ‰å½ˆæ€§åˆæœ‰çµæ§‹çš„æ¡†æ¶ã€‚

å°å…¥ awilixï¼šä¾è³´æ³¨å…¥çš„æ•‘è´– ğŸ”—ç‚ºä»€éº¼é¸ awilixï¼Ÿ ğŸ”—ç‚ºäº†æ¸¬è©¦å®¹æ˜“ï¼Œæˆ‘éœ€è¦èƒ½å¤ è¼•é¬†æ›¿æ›ä¾è³´ï¼Œæ–¼æ˜¯æˆ‘é–‹å§‹æ‰¾ä¾è³´æ³¨å…¥ï¼ˆDIï¼‰çš„è§£æ±ºæ–¹æ¡ˆï¼Œæˆ‘ä»¥å‰å¯« Node.js æ™‚ï¼Œä¾è³´ç®¡ç†å…¨é æ‰‹å‹•ï¼Œä»¥ä¸‹æ˜¯æˆ‘ä¹‹å‰ç‚ºäº†é”åˆ° Dependency Injection çš„å¯«æ³•ï¼Œé€™å€‹å¯«æ³•åªèƒ½é”åˆ°å–®ä¾‹æ¨¡å¼ã€‚
// æ‰‹å‹•ä¾è³´æ³¨å…¥
export class UserService {
  private static instance: UserService;
  private constructor(private readonly db: Database) {}

  public static getInstance(): UserService {
    if (!UserService.instance) {
      UserService.instance = new UserService(new Database());
    }
    return UserService.instance;
  }
}
NestJS çš„ DI å¾ˆå¼·ï¼Œä½†å¤ªé‡é‡ç´šï¼›InversifyJS ä¹Ÿä¸éŒ¯ï¼Œä½†ä¹Ÿè¦ä¾é å¯¦é©—æ€§çš„åŠŸèƒ½ reflect-metadata é€™é»æˆ‘ä¸æ˜¯å¾ˆå–œæ­¡ã€‚æœ€å¾Œæˆ‘ç™¼ç¾äº† awilixï¼Œä¸€å€‹è¼•é‡åˆç›´è§€çš„ DI å®¹å™¨ï¼Œå®Œç¾ç¬¦åˆæˆ‘çš„éœ€æ±‚ã€‚"><meta name=generator content="Hugo 0.145.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/images/favicon.ico type=image/x-icon><script async src="https://www.googletagmanager.com/gtag/js?id=G-0YBZ467R0Y"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0YBZ467R0Y")}</script></head><body><nav class=navigation><a href=/><span class=arrow>â†</span>Home</a>
<a href=/posts>Archive</a>
<a href=/tags>Tags</a>
<a href=/about>About</a></nav><main class=main><section id=single><h1 class=title>ç”¨ Node.js æ‰“é€  Elegant API Frameworkï¼šawilixã€zodã€zod-openapi çš„å°å…¥èˆ‡æ”¹è®Š</h1><div class=tip><time datetime="2025-03-18 16:06:44 +0800 +0800">Mar 18, 2025</time>
<span class=split>Â·
</span><span>624 words
</span><span class=split>Â·
</span><span>3 minute read</span></div><div class=content><h1 id=ç”¨-nodejs-æ‰“é€ -elegant-api-frameworkawilixzodzod-openapi-çš„å°å…¥èˆ‡æ”¹è®Š>ç”¨ Node.js æ‰“é€  Elegant API Frameworkï¼šawilixã€zodã€zod-openapi çš„å°å…¥èˆ‡æ”¹è®Š <a href=#%e7%94%a8-nodejs-%e6%89%93%e9%80%a0-elegant-api-frameworkawilixzodzod-openapi-%e7%9a%84%e5%b0%8e%e5%85%a5%e8%88%87%e6%94%b9%e8%ae%8a class=anchor>ğŸ”—</a></h1><p>ä»Šå¤©æˆ‘è¦ä¾†èŠèŠæˆ‘çš„å°ˆæ¡ˆï¼š<a href=https://github.com/and2352000/elegant-api-framework-node-js target=_blank rel=noopener>Elegant API Framework for Node.js</a>ã€‚é€™å€‹ API æ¡†æ¶ç›®æ¨™æ˜¯è®“ Node.js API å°ˆæ¡ˆé–‹ç™¼è®Šå¾—æ›´å„ªé›…ï¼Œä½¿ç”¨ <code>awilix</code>ã€<code>zod</code> å’Œ <code>zod-openapi</code> é€™ä¸‰å€‹å·¥å…·ï¼Œè®“æˆ‘çš„å°ˆæ¡ˆè®Šå¾—æ›´ä¹¾æ·¨ã€æ›´æ˜“æ–¼ç¶­è­·ã€‚</p><hr><h2 id=å°ˆæ¡ˆåˆè¡·å„ªé›…èˆ‡çµæ§‹ä¸¦å­˜>å°ˆæ¡ˆåˆè¡·ï¼šå„ªé›…èˆ‡çµæ§‹ä¸¦å­˜ <a href=#%e5%b0%88%e6%a1%88%e5%88%9d%e8%a1%b7%e5%84%aa%e9%9b%85%e8%88%87%e7%b5%90%e6%a7%8b%e4%b8%a6%e5%ad%98 class=anchor>ğŸ”—</a></h2><p>æˆ‘ä¸€é–‹å§‹åšé€™å€‹æ¡†æ¶çš„æ™‚å€™ï¼Œå°±æƒ³è¦è§£æ±º Node.js é–‹ç™¼ä¸­å¸¸è¦‹çš„ç—›é»ï¼šä¾è³´ç®¡ç†äº‚ä¸ƒå…«ç³Ÿã€è³‡æ–™é©—è­‰éº»ç…©ã€API æ–‡ä»¶é›£ç”¢ã€‚æˆ‘ç”¨é Expressã€Koaï¼Œä¹Ÿçœ‹é NestJS çš„åšæ³•ï¼ŒNestJS åŸºæœ¬ä¸Šè·Ÿ Spring Boot å¾ˆåƒï¼ŒNestJS ä½¿ç”¨ TypeScript çš„è£é£¾å™¨ä¾†å®šç¾©æ§åˆ¶å™¨ã€æœå‹™å’Œå…¶ä»–çµ„ä»¶ï¼Œé€™èˆ‡ Spring Boot ä½¿ç”¨è¨»è§£ï¼ˆAnnotationsï¼‰ä¾†é…ç½®æ‡‰ç”¨ç¨‹å¼çš„æ–¹å¼ç›¸ä¼¼ï¼Œä½†æˆ‘å¾ˆä¸å–œæ­¡è¢«æ•´å€‹æ¡†æ¶ç¶ä½ï¼Œæœ‰æ™‚å€™è¦ºå¾—æ¡†æ¶çš„å­˜åœ¨é™åˆ¶çš„ç¨‹å¼çš„æ“´å±•æ€§ï¼Œæ–¼æ˜¯ï¼Œæˆ‘æ±ºå®šè‡ªå·±å‹•æ‰‹ï¼Œæ‰“é€ ä¸€å€‹æ—¢æœ‰å½ˆæ€§åˆæœ‰çµæ§‹çš„æ¡†æ¶ã€‚</p><hr><h2 id=å°å…¥-awilixä¾è³´æ³¨å…¥çš„æ•‘è´–>å°å…¥ awilixï¼šä¾è³´æ³¨å…¥çš„æ•‘è´– <a href=#%e5%b0%8e%e5%85%a5-awilix%e4%be%9d%e8%b3%b4%e6%b3%a8%e5%85%a5%e7%9a%84%e6%95%91%e8%b4%96 class=anchor>ğŸ”—</a></h2><h3 id=ç‚ºä»€éº¼é¸-awilix>ç‚ºä»€éº¼é¸ awilixï¼Ÿ <a href=#%e7%82%ba%e4%bb%80%e9%ba%bc%e9%81%b8-awilix class=anchor>ğŸ”—</a></h3><p>ç‚ºäº†æ¸¬è©¦å®¹æ˜“ï¼Œæˆ‘éœ€è¦èƒ½å¤ è¼•é¬†æ›¿æ›ä¾è³´ï¼Œæ–¼æ˜¯æˆ‘é–‹å§‹æ‰¾ä¾è³´æ³¨å…¥ï¼ˆDIï¼‰çš„è§£æ±ºæ–¹æ¡ˆï¼Œæˆ‘ä»¥å‰å¯« Node.js æ™‚ï¼Œä¾è³´ç®¡ç†å…¨é æ‰‹å‹•ï¼Œä»¥ä¸‹æ˜¯æˆ‘ä¹‹å‰ç‚ºäº†é”åˆ° Dependency Injection çš„å¯«æ³•ï¼Œé€™å€‹å¯«æ³•åªèƒ½é”åˆ°å–®ä¾‹æ¨¡å¼ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// æ‰‹å‹•ä¾è³´æ³¨å…¥
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UserService</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#a6e22e>instance</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>UserService</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>constructor</span>(<span style=color:#66d9ef>private</span> <span style=color:#a6e22e>readonly</span> <span style=color:#a6e22e>db</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Database</span>) {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#a6e22e>getInstance</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>UserService</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>UserService</span>.<span style=color:#a6e22e>instance</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>UserService</span>.<span style=color:#a6e22e>instance</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>UserService</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Database</span>());
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>UserService</span>.<span style=color:#a6e22e>instance</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>NestJS çš„ DI å¾ˆå¼·ï¼Œä½†å¤ªé‡é‡ç´šï¼›InversifyJS ä¹Ÿä¸éŒ¯ï¼Œä½†ä¹Ÿè¦ä¾é å¯¦é©—æ€§çš„åŠŸèƒ½ <code>reflect-metadata</code> é€™é»æˆ‘ä¸æ˜¯å¾ˆå–œæ­¡ã€‚æœ€å¾Œæˆ‘ç™¼ç¾äº† <code>awilix</code>ï¼Œä¸€å€‹è¼•é‡åˆç›´è§€çš„ DI å®¹å™¨ï¼Œå®Œç¾ç¬¦åˆæˆ‘çš„éœ€æ±‚ã€‚</p><h3 id=æ€éº¼ç”¨çš„>æ€éº¼ç”¨çš„ï¼Ÿ <a href=#%e6%80%8e%e9%ba%bc%e7%94%a8%e7%9a%84 class=anchor>ğŸ”—</a></h3><p>æˆ‘ç”¨ <code>awilix</code> ä¾†ç®¡ç†æ‰€æœ‰çš„æœå‹™ã€æ§åˆ¶å™¨å’Œå„²å­˜åº«ï¼ŒæŠŠæ¯å€‹æ¨¡çµ„è¨»å†Šåˆ°ä¸€å€‹å®¹å™¨è£¡ï¼Œç„¶å¾Œåœ¨éœ€è¦çš„åœ°æ–¹è‡ªå‹•è§£æã€‚ä¾‹å¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>createContainer</span>, <span style=color:#a6e22e>asClass</span>, <span style=color:#a6e22e>asFunction</span> } <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;awilix&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// è¨­å®šå®¹å™¨
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>container</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createContainer</span>()
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>register</span>({
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>userService</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>asClass</span>(<span style=color:#a6e22e>UserService</span>).<span style=color:#a6e22e>singleton</span>(),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>userController</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>asClass</span>(<span style=color:#a6e22e>UserController</span>).<span style=color:#66d9ef>transient</span>(),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>db</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>asFunction</span>(() =&gt; <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Database</span>()),
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// æ§åˆ¶å™¨è£¡ç›´æ¥ç”¨
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UserController</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>({ <span style=color:#a6e22e>userService</span> }) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>userService</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>userService</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>async</span> <span style=color:#a6e22e>getUser</span>(<span style=color:#a6e22e>req</span>, <span style=color:#a6e22e>res</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>userService</span>.<span style=color:#a6e22e>findById</span>(<span style=color:#a6e22e>req</span>.<span style=color:#a6e22e>params</span>.<span style=color:#a6e22e>id</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>json</span>(<span style=color:#a6e22e>user</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>é€™è£¡æ³¨æ„ä½ çš„å–åå¿…é ˆè¦è·Ÿä½  inject æœå‹™ä¸€æ¨£ï¼Œä¹Ÿå°±æ˜¯èªªåŒä¸€å€‹ module å¯ä»¥æœ‰å¤šå€‹ inject å¯¦ä¾‹ï¼Œä½ å¯ä»¥ç”¨ä¸åŒçš„ Pattern ä¾†é”åˆ°ä¸åŒçš„æ•ˆæœï¼Œé€™è£¡æ˜¯<a href=https://github.com/jeffijoe/awilix target=_blank rel=noopener>å®˜æ–¹</a>çš„åŸæ–‡ä¸‰ç¨®ä¸åŒçš„ Lifetime:</p><ul><li>Lifetime.TRANSIENT: This is the default. The registration is resolved every time it is needed. This means if you resolve a class more than once, you will get back a new instance every time.</li><li>Lifetime.SCOPED: The registration is scoped to the container - that means that the resolved value will be reused when resolved from the same scope (or a child scope).</li><li>Lifetime.SINGLETON: The registration is always reused no matter what - that means that the resolved value is cached in the root container.</li></ul><p>ä»¥ä¸Šå°±å¯ä»¥è®“ä½ çš„æœå‹™å’Œç›¸ä¾è§£è€¦ï¼Œä½†ä»–æœ‰ä¸€å€‹ç¼ºé»å°±æ˜¯æ³¨å…¥çš„æ™‚å€™æ˜¯æ²’æœ‰å‹åˆ¥çš„æ‰€ä»¥é€™é‚Šå°±æ²’è¾¦æ³•ç›´æ¥é»æ“Šè·³è½‰</p><h2 id=å°å…¥-zodè³‡æ–™é©—è­‰>å°å…¥ zodï¼šè³‡æ–™é©—è­‰ <a href=#%e5%b0%8e%e5%85%a5-zod%e8%b3%87%e6%96%99%e9%a9%97%e8%ad%89 class=anchor>ğŸ”—</a></h2><h3 id=ç‚ºä»€éº¼é¸-zod>ç‚ºä»€éº¼é¸ zodï¼Ÿ <a href=#%e7%82%ba%e4%bb%80%e9%ba%bc%e9%81%b8-zod class=anchor>ğŸ”—</a></h3><p>API æ¡†æ¶å°‘ä¸äº†è³‡æ–™é©—è­‰ï¼Œä¸»æµçš„é©—è­‰å¥—ä»¶é‚„æœ‰ Joiã€Ajvï¼Œæˆ‘é¸å‰‡ zod å–®ç´”æ˜¯å› ç‚ºä»–è·Ÿ TypeScript çš„æ•´åˆçš„å¾ˆå¥½ï¼Œç•¶ç„¶ä»–é€Ÿåº¦å¿«è€Œä¸”è¼•é‡ï¼Œå®ƒçš„èªæ³•ç°¡æ½”ï¼Œé‚„èƒ½ç›´æ¥å¾ schema æ¨å°å‡º TypeScript å‹åˆ¥ï¼Œçœä¸‹æˆ‘æ‰‹å‹•å¯«ä»‹é¢çš„æ™‚é–“ï¼Œé€™å€‹å„ªå‹¢åœ¨æ–¼å¯ä»¥ä¸Šç¨‹å¼ç¢¼çš„ä¸€è‡´æ€§å¾ˆæœ‰æœ‰æ•ˆåœ°è¢«ç¶­è­·ï¼Œä¹Ÿæ‰“é‡æ¸›å°‘éœ€è¦ç¶­è­·çš„é–‹ç™¼æ–‡ä»¶ã€‚</p><p>åœ¨æˆ‘çš„æ¡†æ¶è£¡ï¼Œzod è² è²¬è™•ç†æ‰€æœ‰çš„è¼¸å…¥é©—è­‰ã€‚æ¯”å¦‚å®šç¾©ä¸€å€‹ç”¨æˆ¶çš„ schemaï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>userRouter</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;/&#39;</span>, <span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>ctx</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#75715e>//NOTE: ï¼ï¼ï¼é€™ä¸€æ®µ userController æ˜¯æ²’æœ‰å‹åˆ¥çš„ï¼Œç›¸ä¾ä¹Ÿæ˜¯å¾é€™è£¡é–‹å§‹æ³¨å…¥
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>container</span>.<span style=color:#a6e22e>resolve</span>(<span style=color:#e6db74>&#39;userController&#39;</span>).<span style=color:#a6e22e>getUser</span>(<span style=color:#a6e22e>ctx</span>.<span style=color:#a6e22e>request</span>.<span style=color:#a6e22e>params</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ctx</span>.<span style=color:#a6e22e>body</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>user</span>;
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>z</span> } <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;zod&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>routerSchemaCheck</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;../middleware/validator&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>postUserSchema</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Openapi éœ€è¦ç”¨åˆ°çš„å®šç¾© 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;/user&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>method</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;post&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>tags</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;user&#39;</span>],
</span></span><span style=display:flex><span>    <span style=color:#75715e>// å®šç¾© schema
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>body</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>z</span>.<span style=color:#a6e22e>object</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>z</span>.<span style=color:#a6e22e>string</span>()
</span></span><span style=display:flex><span>    }),
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>userRouter</span>.<span style=color:#a6e22e>post</span>(<span style=color:#e6db74>&#39;/&#39;</span>, <span style=color:#a6e22e>routerSchemaCheck</span>(<span style=color:#a6e22e>postUserSchema</span>), <span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>ctx</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>body</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ctx</span>.<span style=color:#a6e22e>request</span>.<span style=color:#a6e22e>body</span> <span style=color:#a6e22e>as</span> <span style=color:#a6e22e>z</span>.<span style=color:#a6e22e>infer</span><span style=color:#f92672>&lt;</span><span style=color:#66d9ef>typeof</span> <span style=color:#a6e22e>postUserSchema</span>.<span style=color:#a6e22e>body</span><span style=color:#f92672>&gt;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>container</span>.<span style=color:#a6e22e>resolve</span>(<span style=color:#e6db74>&#39;userService&#39;</span>).<span style=color:#a6e22e>createUser</span>(<span style=color:#a6e22e>body</span>.<span style=color:#a6e22e>name</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ctx</span>.<span style=color:#a6e22e>body</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>user</span>;
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><p>å¾è·¯ç”±å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å€‘å®šç¾©äº†ä¸€å€‹ post çš„ user è·¯ç”±ï¼Œä¸¦ä¸”ä½¿ç”¨ <code>routerSchemaCheck</code> é€™å€‹ middleware ä¾†æª¢æŸ¥è¼¸å…¥çš„è³‡æ–™æ˜¯å¦ç¬¦åˆæˆ‘å€‘å®šç¾©çš„ schemaï¼Œå¦‚æœç¬¦åˆï¼Œå°±æœƒæŠŠè³‡æ–™è½‰æ›æˆæˆ‘å€‘å®šç¾©çš„å‹åˆ¥ï¼Œä¸¦ä¸”å‚³éçµ¦ controller è™•ç†ï¼Œå¦‚æœè³‡æ–™ä¸ç¬¦åˆé æœŸï¼Œä¸ä½†æœƒå›å‚³éŒ¯èª¤é‚„æœƒæŒ‡å‡ºæ­£ç¢ºçš„æ¬„ä½ä»¥åŠå¯ä»¥å¡«å…¥çš„è³‡æ–™(åŒ…æ‹¬å° enum çš„æ”¯æŒ)
routerSchemaCheck çš„å¯¦ä½œå¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>routerSchemaCheck</span> (<span style=color:#a6e22e>schema</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>SchemaCheck</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>ctx</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Context</span>, <span style=color:#a6e22e>next</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Next</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>schema</span>.<span style=color:#a6e22e>body</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ctx</span>.<span style=color:#a6e22e>request</span>.<span style=color:#a6e22e>body</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>schema</span>.<span style=color:#a6e22e>body</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>ctx</span>.<span style=color:#a6e22e>request</span>.<span style=color:#a6e22e>body</span>)
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>schema</span>.<span style=color:#a6e22e>query</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ctx</span>.<span style=color:#a6e22e>query</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>schema</span>.<span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>ctx</span>.<span style=color:#a6e22e>query</span>)
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>schema</span>.<span style=color:#a6e22e>params</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>ctx</span>.<span style=color:#a6e22e>params</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>schema</span>.<span style=color:#a6e22e>params</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>ctx</span>.<span style=color:#a6e22e>params</span>)
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>next</span>()
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>error</span> <span style=color:#66d9ef>instanceof</span> <span style=color:#a6e22e>ZodError</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>createErrorResponse</span>(<span style=color:#a6e22e>ctx</span>, <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>RouterSchemaCheckErrorResponse</span>(<span style=color:#e6db74>&#39;Parameter validation failed&#39;</span>), <span style=color:#a6e22e>error</span>)
</span></span><span style=display:flex><span>      } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>throw</span> <span style=color:#a6e22e>error</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>RouterSchemaCheckErrorResponse</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>ErrorResponse</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span> (<span style=color:#a6e22e>message</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>string</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>super</span>(<span style=color:#e6db74>&#39;router-schema/check-error&#39;</span>, <span style=color:#a6e22e>message</span>, <span style=color:#ae81ff>400</span>)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Error response çš„å›æ‡‰å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;code&#34;</span>: <span style=color:#e6db74>&#34;router-schema/check-error&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;message&#34;</span>: <span style=color:#e6db74>&#34;Parameter validation failed&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;data&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;issues&#34;</span>: [
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;code&#34;</span>: <span style=color:#e6db74>&#34;invalid_type&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;expected&#34;</span>: <span style=color:#e6db74>&#34;string&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;received&#34;</span>: <span style=color:#e6db74>&#34;undefined&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;path&#34;</span>: [
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;name&#34;</span>
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;message&#34;</span>: <span style=color:#e6db74>&#34;Required&#34;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;ZodError&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=æ”¹è®Šäº†ä»€éº¼>æ”¹è®Šäº†ä»€éº¼ï¼Ÿ <a href=#%e6%94%b9%e8%ae%8a%e4%ba%86%e4%bb%80%e9%ba%bc class=anchor>ğŸ”—</a></h2><ul><li>å‹åˆ¥å®‰å…¨ï¼šå¾ userSchema.parse() å‡ºä¾†çš„è³‡æ–™ç›´æ¥æœ‰ TypeScript å‹åˆ¥ï¼Œä¸ç”¨å†è‡ªå·±å®šç¾© interfaceï¼Œçˆ½åº¦çˆ†è¡¨ã€‚</li><li>éŒ¯èª¤è™•ç†è¶…ç›´è§€ï¼šzod çš„éŒ¯èª¤è¨Šæ¯æ¸…æ™°åˆ°ä¸è¡Œï¼Œé‚„èƒ½è‡ªè¨‚ï¼ŒAPI çš„å›æ‡‰å“è³ªç›´æ¥æå‡ã€‚</li><li>é–‹ç™¼æ•ˆç‡ï¼šä»¥å‰é©—è­‰é‚è¼¯æ•£åœ¨å„è™•ï¼Œç¾åœ¨çµ±ä¸€ç”¨ schemaï¼Œæ—¢ä¹¾æ·¨åˆå¥½ç¶­è­·ã€‚</li><li>å¿ƒå¾—ï¼Ÿzod ä¸åªæ˜¯é©—è­‰å·¥å…·ï¼Œå®ƒç°¡ç›´æ˜¯ TypeScript ç”Ÿæ…‹çš„ç§˜å¯†æ­¦å™¨ï¼Œè®“æˆ‘çš„æ¡†æ¶åœ¨è™•ç†è¼¸å…¥è³‡æ–™æ™‚åˆå¿«åˆç©©ã€‚</li></ul><h2 id=å°å…¥-zod-openapiapi-æ–‡ä»¶çš„è‡ªå‹•åŒ–>å°å…¥ zod-openapiï¼šAPI æ–‡ä»¶çš„è‡ªå‹•åŒ– <a href=#%e5%b0%8e%e5%85%a5-zod-openapiapi-%e6%96%87%e4%bb%b6%e7%9a%84%e8%87%aa%e5%8b%95%e5%8c%96 class=anchor>ğŸ”—</a></h2><p>zod æ“æœ‰è±å¯Œçš„æ’ä»¶é€™é‚Šå¯ä»¥çœ‹åˆ°<a href=https://www.npmjs.com/package/zod target=_blank rel=noopener>zod çš„æ’ä»¶</a><br>API æ–‡ä»¶æ˜¯ä¸€å€‹å¾ˆéº»ç…©çš„æ±è¥¿ï¼Œç•¶åœ˜éšŠä¸€å¤§å°±æœƒå¸Œæœ›æœ‰æ–‡ä»¶ä¾†ä½œç‚ºæºé€šçš„æ©‹æ¨‘ï¼Œæ‰‹å‹•å¯« openapi æ–‡ä»¶åˆç´¯åˆå®¹æ˜“éæ™‚ã€‚ zod-openapi æ˜¯ zod çš„æ“´å……ï¼Œå¯ä»¥æŠŠ zod schema ç›´æ¥è½‰æˆ OpenAPI è¦æ ¼ï¼Œé‚„èƒ½è¼¸å‡ºæ¨™æº–çš„ JSON æ–‡ä»¶ï¼Œé‚£è‡³æ–¼è¦æ€éº¼å»é¸æ“‡UI å°±çœ‹è‡ªå·±çš„éœ€æ±‚ã€‚</p><p>è‡³æ–¼æ€éº¼æŠŠ openapi çš„ document ç”¢å‡ºä¾† å¹¾æœ¬ä¸Šå°±æ˜¯å¯«ä¸€å€‹å°çš„æ’ä»¶å»æƒææ‰€æœ‰ router çš„ schema æ ¹æ“šä¸Šé¢çš„å®šç¾©å»ç”¢å‡ºï¼Œç´°ç¯€å°±ä¸è©³è¿°æœ‰èˆˆè¶£çš„å¯ä»¥çœ‹</p><p>ç”¢å‡ºä¾†çš„è³‡æ–™é•·é€™æ¨£ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;openapi&#34;</span>: <span style=color:#e6db74>&#34;3.1.0&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;info&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;Elegant API Framework&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;version&#34;</span>: <span style=color:#e6db74>&#34;1.0.0&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;servers&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;url&#34;</span>: <span style=color:#e6db74>&#34;http://localhost:6969&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Local Development&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;paths&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;/user&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;post&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;tags&#34;</span>: [
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;user&#34;</span>
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;requestBody&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;content&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;application/json&#34;</span>: {
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#34;schema&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;object&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;properties&#34;</span>: {
</span></span><span style=display:flex><span>                  <span style=color:#f92672>&#34;name&#34;</span>: {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;string&#34;</span>
</span></span><span style=display:flex><span>                  }
</span></span><span style=display:flex><span>                },
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;required&#34;</span>: [
</span></span><span style=display:flex><span>                  <span style=color:#e6db74>&#34;name&#34;</span>
</span></span><span style=display:flex><span>                ]
</span></span><span style=display:flex><span>              }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;responses&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;200&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Success&#34;</span>
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;get&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;tags&#34;</span>: [
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;user&#34;</span>
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;responses&#34;</span>: {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;200&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Success&#34;</span>
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ç„¶å¾Œé€™å€‹ spec å¯ä»¥ç›´æ¥ä¸Ÿçµ¦ Swagger UI æˆ–å…¶ä»–å·¥å…·ï¼Œç”Ÿæˆæ¼‚äº®çš„ API æ–‡ä»¶ã€‚</p><h2 id=ç¸½çµ>ç¸½çµ <a href=#%e7%b8%bd%e7%b5%90 class=anchor>ğŸ”—</a></h2><hr><p>é€™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å€‘æ¢è¨äº†å¦‚ä½•å»ºç«‹ä¸€å€‹å„ªé›…çš„ Node.js API æ¡†æ¶ï¼Œä¸»è¦èšç„¦åœ¨ä»¥ä¸‹å¹¾å€‹é—œéµé»ï¼š</p><ol><li><strong>ç¨‹å¼ç¢¼å³æ–‡ä»¶</strong>ï¼šé€é OpenAPI è¦ç¯„ï¼Œæˆ‘å€‘è®“ API çš„å®šç¾©å’Œæ–‡ä»¶æˆç‚ºç¨‹å¼ç¢¼çš„ä¸€éƒ¨åˆ†ï¼Œç¢ºä¿æ–‡ä»¶æ°¸é èˆ‡å¯¦éš›å¯¦ä½œåŒæ­¥ã€‚</li><li><strong>é–‹ç™¼è€…é«”é©—å„ªå…ˆ</strong>ï¼šè¨­è¨ˆæ¡†æ¶æ™‚ä»¥é–‹ç™¼è€…é«”é©—ç‚ºæ ¸å¿ƒï¼Œæä¾›æ¸…æ™°çš„ API çµæ§‹å’Œè‡ªå‹•ç”Ÿæˆçš„æ–‡ä»¶ï¼Œå¤§å¹…é™ä½å­¸ç¿’å’Œä½¿ç”¨æˆæœ¬ã€‚</li><li><strong>è‡ªå‹•åŒ–èˆ‡ä¸€è‡´æ€§</strong>ï¼šé€éæ¡†æ¶çš„è¨­è¨ˆï¼Œæˆ‘å€‘å¯¦ç¾äº† API å®šç¾©ã€é©—è­‰å’Œæ–‡ä»¶çš„è‡ªå‹•åŒ–ï¼ŒåŒæ™‚ç¢ºä¿äº†è·¨å°ˆæ¡ˆçš„ä¸€è‡´æ€§ã€‚</li><li><strong>æ¸›å°‘é‡è¤‡å·¥ä½œ</strong>ï¼šä¸å†éœ€è¦æ‰‹å‹•ç¶­è­·æ–‡ä»¶æˆ–ç·¨å¯«é‡è¤‡çš„é©—è­‰é‚è¼¯ï¼Œè®“é–‹ç™¼è€…å¯ä»¥å°ˆæ³¨æ–¼æ¥­å‹™é‚è¼¯çš„å¯¦ç¾ã€‚</li></ol><p>é€™ç¨®æ–¹æ³•ä¸åƒ…æé«˜äº†é–‹ç™¼æ•ˆç‡ï¼Œä¹Ÿç¢ºä¿äº† API çš„å“è³ªå’Œå¯ç¶­è­·æ€§ï¼Œç‰¹åˆ¥é©åˆéœ€è¦å¿«é€Ÿè¿­ä»£å’Œé•·æœŸç¶­è­·çš„å°ˆæ¡ˆã€‚</p></div><div class=tags><a href=https://and2352000.github.io/tags/nodejs>nodejs</a>
<a href=https://and2352000.github.io/tags/koa>koa</a>
<a href=https://and2352000.github.io/tags/zod>zod</a>
<a href=https://and2352000.github.io/tags/api>api</a></div></section></main><footer id=footer><div class=copyright>Â© Copyright
2025
<span class=split><svg fill="#bbb" width="15" height="15" id="heart-15" width="15" height="15" viewBox="0 0 15 15"><path d="M13.91 6.75c-1.17 2.25-4.3 5.31-6.07 6.94-.1903.1718-.4797.1718-.67.0C5.39 12.06 2.26 9 1.09 6.75-1.48 1.8 5-1.5 7.5 3.45 10-1.5 16.48 1.8 13.91 6.75z"/></svg></span></div><div class=powerby>Powered by <a href=http://www.gohugo.io/>Hugo</a> Theme By <a href=https://github.com/nodejh/hugo-theme-mini>nodejh</a></div></footer></body></html>